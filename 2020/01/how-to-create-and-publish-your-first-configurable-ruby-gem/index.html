<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>

    <title>How to create and publish your first configurable Ruby Gem | Trio Engineering</title>

    <meta http-equiv="Content-Security-Policy" content="font-src 'self';frame-src disqus.com c.disquscdn.com https://*.disquscdn.com www.google.com www.youtube.com accounts.google.com;img-src 'self' c.disquscdn.com referrer.disqus.com https://*.disquscdn.com www.google-analytics.com www.gstatic.com ssl.gstatic.com i.ytimg.com i.imgur.com data:;script-src 'self' c.disquscdn.com disqus.com usetrio.disqus.com https://*.disquscdn.com www.google.com www.google-analytics.com www.gstatic.com apis.google.com;style-src 'self' c.disquscdn.com https://*.disquscdn.com;object-src 'none'; base-uri 'self';">

    
    
    
    

    <link rel='alternate' type='application/rss+xml' title='Trio Engineering Feed' href='https://engineering.trio.dev/atom.xml'>
    <meta name='description' content='You probably are a Ruby fan just like me and want to know how to share your work
through an awesome configurable Ruby Gem, don’t you? Existing tutorials on the
internet teach how to create a Ruby Gem but don’t teach you how to make your gem
configurable and flexible to the developers which will make use of your
incredible library. That’s exactly...'/>
    <meta name='keywords' content=''/>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='shortcut icon' href='/assets/favicon/favicon.ico' type='image/x-icon'>
    <link rel='icon' href='/assets/favicon/favicon.ico' type='image/x-icon'>

    <link rel="stylesheet" href="/assets/bundle-e1ef381fe8f416267819bfc100662e24dfba890d30551b08559f5608ad318634.css">

    <meta name="p:domain_verify" content="ee843ddad91f8b4384f2f3a13a714e2d"/>

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@usetrio">
    <meta name="twitter:creator" content="@usetrio">
    <meta name="twitter:url" content="https://engineering.trio.dev/2020/01/how-to-create-and-publish-your-first-configurable-ruby-gem/">
    <meta name="twitter:title" content="How to create and publish your first configurable Ruby Gem">
    <meta name="twitter:description" content="You probably are a Ruby fan just like me and want to know how to share your work
through an awesome configurable Ruby Gem, don’t you? Existing tutorials on the
internet teach how to create a Ruby Gem but don’t teach you how to make your gem
configurable and flexible to the developers which will make use of your
incredible library. That’s exactly...">

    <meta property="og:title" content="How to create and publish your first configurable Ruby Gem"/>
    <meta property="og:site_name" content="Trio Engineering"/>
    <meta property="og:url" content="https://engineering.trio.dev/2020/01/how-to-create-and-publish-your-first-configurable-ruby-gem/"/>
    <meta property="og:description" content="You probably are a Ruby fan just like me and want to know how to share your work
through an awesome configurable Ruby Gem, don’t you? Existing tutorials on the
internet teach how to create a Ruby Gem but don’t teach you how to make your gem
configurable and flexible to the developers which will make use of your
incredible library. That’s exactly..."/>
    <meta property="og:type" content="article">
    <meta property="fb:app_id" content="805673586165209"/>

    
        <meta name="twitter:image:src" content="https://engineering.trio.dev/uploads/2020-1-how-to-create-and-publish-your-first-configurable-ruby-gem/thumb_twitter.jpg">
        <meta property="og:image" content="https://engineering.trio.dev/uploads/2020-1-how-to-create-and-publish-your-first-configurable-ruby-gem/thumb_facebook.jpg"/>
    
</head>

<body>

<header class="site-header" role="banner">
    <div class="container">
        <div class="logo flex-vcenter">
            <a href='/'>
                <img alt="Trio Logo" src="/assets/img/logo.svg">
            </a>
        </div>

        <div class="brand-name flex-vcenter">
            <a href="/" title="Trio Engineering Blog" rel="home">Engineering</a>
        </div>

        <nav role="navigation" class="flex-vcenter">
            <div class="menu-main-nav-container">
                <ul id="menu-main-nav" class="menu">
                    <li><a href="/posts.html">All Posts</a></li>
                    <li><a href="https://trio.dev">Trio Website</a></li>
                </ul>
            </div>
        </nav>
    </div><!--/container -->
</header>


<div class='container'>


    <article class="post">
    <h1 class="post-title">
        <a href="/2020/01/how-to-create-and-publish-your-first-configurable-ruby-gem/">How to create and publish your first configurable Ruby Gem</a>
    </h1>
    <figure>
        <img class="img-responsive" src="/uploads/2020-1-how-to-create-and-publish-your-first-configurable-ruby-gem/thumb_master.jpg" alt="How to create and publish your first configurable Ruby Gem">
    </figure>
    <div class="post-description">
        <p>You probably are a Ruby fan just like me and want to know how to share your work
through an awesome configurable Ruby Gem, don’t you? Existing tutorials on the
internet teach how to create a Ruby Gem but don’t teach you how to make your gem
configurable and flexible to the developers which will make use of your
incredible library. That’s exactly what we will be doing today.</p>

<!--more-->

<h3 id="how-to-create-and-publish-your-first-configurable-ruby-gem">How to create and publish your first configurable Ruby Gem</h3>

<p>You probably are a Ruby fan just like me and want to know how to share your work
through an awesome configurable Ruby Gem, don’t you? Existing tutorials on the
internet teach how to create a Ruby Gem but don’t teach you how to make your gem
configurable and flexible to the developers which will make use of your
incredible library. That’s exactly what we will be doing today. Together we are
going to learn how to make a gem from start to finish and even make it available
to the world by publishing to the <a href="https://rubygems.org/" target="_blank" class="external">rubygems.org</a>, shall
we?</p>

<p><em>I’m assuming that you already have the minimal setup for this tutorial: ruby
and a code editor of your choice.</em></p>

<hr>

<h3 id="step-1-choosing-a-name">Step 1: Choosing a name</h3>

<p>The first step to creating any great ruby gem is to come up with a great name.
New gems are constantly being created so it can be a little tough to come up
with a name that hasn’t been taken. Be sure to check the official public gems
registry: <a href="https://rubygems.org/" target="_blank" class="external">rubygems.org</a> to see if your name has already
been taken.</p>

<p>For this tutorial, I’m going to create a little ruby gem called <em>trio-blog-api</em>
which aims to fetch <a href="https://trio.dev/" target="_blank" class="external">Trio’s website</a> and give us the last
blog post informations.</p>

<h3 id="step-2-setting-up-the-boilerplate-code">Step 2: Setting up the boilerplate code</h3>

<p>In order to set up our boilerplate code, we’re going to use the <a href="https://bundler.io/" target="_blank" class="external">bundler
gem</a> to make it easier. So let’s install it:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem install bundler
</code></pre></div></div>

<p>Now that you’ve installed bundler we can easily run the generate command:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bundler gem your-gem-name
</code></pre></div></div>

<p>If this is your first time running this command you’ll be prompted to choose
some preferences like the license that you want to use. If you’re not sure about
those choices you can read more about the <a href="https://thoughtbot.com/blog/back-to-basics-writing-unit-tests-first" target="_blank" class="external">basic of
testing</a>
and <a href="https://choosealicense.com/" target="_blank" class="external">how to properly choose your Ruby Gem’s
license</a>.</p>

<p>I’ll be using <em><a href="https://choosealicense.com/licenses/mit/" target="_blank" class="external">
MIT</a></em> as my license choice.</p>

<p><img src="/uploads/2020-1-how-to-create-and-publish-your-first-configurable-ruby-gem/1.png" alt=""></p>

<p>The next step is to open the project in your code editor and make your changes
to the <em>your-gem-name.gemspec</em> file. I’ve configured mine like so:</p>

<p><img src="/uploads/2020-1-how-to-create-and-publish-your-first-configurable-ruby-gem/2.png" alt=""></p>

<h3 id="step-3-making-your-ruby-gem-configurable">Step 3: Making your Ruby Gem configurable</h3>

<p>Since one of our goals is to make our gem configurable, these are the settings
that we’ll make available:</p>

<table>
  <thead>
    <tr>
      <th>Option</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>base_url</strong></td>
      <td>Base URL of Trio’s website</td>
    </tr>
    <tr>
      <td><strong>post_page_path</strong></td>
      <td>Post page path URL that contains the last post</td>
    </tr>
    <tr>
      <td><strong>post_selector</strong></td>
      <td>CSS selector of the post wrapper element</td>
    </tr>
    <tr>
      <td><strong>title_selector</strong></td>
      <td>CSS selector of the post title element</td>
    </tr>
    <tr>
      <td><strong>thumbnail_image_url_selector</strong></td>
      <td>CSS selector of the post thumbnail image element</td>
    </tr>
    <tr>
      <td><strong>post_url_selector</strong></td>
      <td>CSS selector of the post link element</td>
    </tr>
    <tr>
      <td><strong>author_name_selector</strong></td>
      <td>CSS selector of the post author name element</td>
    </tr>
    <tr>
      <td><strong>author_avatar_image_url_selector</strong></td>
      <td>CSS selector of the post author avatar element</td>
    </tr>
  </tbody>
</table>

<p>To make that happen we’re going to create the config file
<strong>lib/trio/blog/api/config.rb</strong></p>

<p><img src="/uploads/2020-1-how-to-create-and-publish-your-first-configurable-ruby-gem/3.png" alt=""></p>

<p>The <em>confib.rb</em> file just contains a class with some attributes of readers and
writers. In order to make use of these changes, we must also make some changes
in our main library module:</p>

<p><img src="/uploads/2020-1-how-to-create-and-publish-your-first-configurable-ruby-gem/4.png" alt=""></p>

<p>This way we’re able to configure our library like this:</p>

<p><img src="/uploads/2020-1-how-to-create-and-publish-your-first-configurable-ruby-gem/5.png" alt=""></p>

<p>Pretty cool, right? In order to make a real stable version of this library, I’ve
implemented the code to fetch the last request as simple as possible. You can
see the entire project on our <a href="https://github.com/usetrio/trio-blog-api" target="_blank" class="external">repository
page</a>.</p>

<h3 id="step-4-releasing-your-first-version">Step 4: Releasing your first version</h3>

<p>Now that we’ve finished our library, it’s time to release the first version.
Versioning isn’t difficult to wrap your mind around since we use conventions
like <a href="https://semver.org/" target="_blank" class="external">SemVer</a>. We’re going to follow this convention to
release our beta version v0.1.0.</p>

<p>Let’s make sure that our Version constant has the right value:</p>

<p><img src="/uploads/2020-1-how-to-create-and-publish-your-first-configurable-ruby-gem/6.png" alt=""></p>

<p>Next, we create a git tag about this release version:</p>

<p><img src="/uploads/2020-1-how-to-create-and-publish-your-first-configurable-ruby-gem/7.png" alt=""></p>

<p>… and finally push it to the remote repository:</p>

<p><img src="/uploads/2020-1-how-to-create-and-publish-your-first-configurable-ruby-gem/8.png" alt=""></p>

<p>Congratulations! You just created your first configurable Ruby Gem. For now, you
can’t install it using <a href="https://rubygems.org" target="_blank" class="external">rubygems.org</a>, but you can install
it using the GitHub repository. Just add this line to your project’s <em>Gemfile</em>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem 'trio-blog-api', '~0.1', github: 'usetrio/trio-blog-api'
</code></pre></div></div>

<h3 id="step-5-publishing-it-to-rubygemsorg">Step 5: Publishing it to rubygems.org</h3>

<p>Now we can make our gem available on <a href="https://rubygems.org" target="_blank" class="external">rubygems.org</a>.</p>

<p><em>This probably is easiest step :)</em></p>

<p>We can create a deployable package by using this command:</p>

<p><img src="/uploads/2020-1-how-to-create-and-publish-your-first-configurable-ruby-gem/9.png" alt=""></p>

<p>That command generated a file called <em>trio-blog-api-0.1.0.gem</em> and now we can
push it to the <a href="https://rubygems.org" target="_blank" class="external">rubygems</a> by using the following command:</p>

<p><img src="/uploads/2020-1-how-to-create-and-publish-your-first-configurable-ruby-gem/10.png" alt=""></p>

<p>If this is your first push you’ll be asked about your credentials at<a href="https://rubygems.org" target="_blank" class="external">
rubygems.org</a>. You can create an account there if you
don’t have one yet.</p>

<p>Just make sure to follow the instructions to sign in and also to have chosen a
unique library name.</p>

<p>Voilà! Your gem is published and available to the world. Now you can install it
by using just:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem install trio-blog-api
</code></pre></div></div>

<p><img src="/uploads/2020-1-how-to-create-and-publish-your-first-configurable-ruby-gem/11.gif" alt=""></p>

<hr>

<p>I hope this brief post helps you to release your contribution to the world :)</p>

<p>Feel free to ask me if you have any questions.</p>

<p><em>Originally published in <a href="https://trio.dev/blog/how-to-create-and-publish-your-first-configurable-ruby-gem-91060" target="_blank" class="external">https://trio.dev/blog/how-to-create-and-publish-your-first-configurable-ruby-gem-91060</a></em></p>

    </div>
</article>

<p class="text-center">
    <small>Posted on
        <time class="date" datetime="2020-01-24T00:00:00+01:00">24 Jan 2020</time> by Dhyego Calota
    </small>
</p>

<div class="share-button-container">

    <div class="socialbutton-wrapper">
        <a href="https://twitter.com/share?url=https://engineering.trio.dev%2F2020%2F01%2Fhow-to-create-and-publish-your-first-configurable-ruby-gem%2F&amp;text=How%20to%20create%20and%20publish%20your%20first%20configurable%20Ruby%C2%A0Gem&amp;via=Trio" target="_blank" class="external">
            <div class="socialbutton twitter" data-share-url="https://engineering.trio.dev/2020/01/how-to-create-and-publish-your-first-configurable-ruby-gem/">
                <p class="icon">
                    <img src="/assets/img/social-twitter.svg" alt="Share to Twitter">
                </p>
            </div>
        </a>


        <a href="https://www.facebook.com/sharer/sharer.php?u=https://engineering.trio.dev%2F2020%2F01%2Fhow-to-create-and-publish-your-first-configurable-ruby-gem%2F" target="_blank" class="external">
            <div class="socialbutton facebook" data-share-url="https://engineering.trio.dev/2020/01/how-to-create-and-publish-your-first-configurable-ruby-gem/">
                <p class="icon">
                    <img src="/assets/img/social-facebook.svg" alt="Share to Facebook">
                </p>
            </div>
        </a>


        <a href="http://www.reddit.com/submit?url=https://engineering.trio.dev%2F2020%2F01%2Fhow-to-create-and-publish-your-first-configurable-ruby-gem%2F&amp;title=How+to+create+and+publish+your+first+configurable+Ruby%C2%A0Gem" target="_blank" class="external">
            <div class="socialbutton reddit">
                <p class="icon">
                    <img src="/assets/img/social-reddit.svg" alt="Share to Reddit">
                </p>
            </div>
        </a>

        <br class="only-smartphone">

        <a href="https://getpocket.com/edit?url=https://engineering.trio.dev%2F2020%2F01%2Fhow-to-create-and-publish-your-first-configurable-ruby-gem%2F" target="_blank" class="external">
            <div class="socialbutton pocket">
                <p class="icon">
                    <img src="/assets/img/social-pocket.svg" alt="Share to Pocket">
                </p>
            </div>
        </a>

        <a href="whatsapp://send?text=How+to+create+and+publish+your+first+configurable+Ruby%C2%A0Gem%20https://engineering.trio.dev%2F2020%2F01%2Fhow-to-create-and-publish-your-first-configurable-ruby-gem%2F" class="only-smartphone">
            <div class="socialbutton whatsapp">
                <p class="icon">
                    <img src="/assets/img/social-whatsapp.svg" alt="Share to WhatsApp">
                </p>
            </div>
        </a>
    </div>
</div>

<div id="comments">
    <div id="disqus_thread"></div>
    <noscript>Please enable JavaScript to view the comments</noscript>
</div>


</div>


<footer>
    <p>Copyright 2016-2020, engineering.trio.dev</p>

    <p>
        <a href="/atom.xml">RSS feed</a> - 
        <a href="https://github.com/usetrio/" rel='noopener' target='_blank'>GitHub</a> - 
        <a href="https://twitter.com/usetrio/" rel='noopener' target='_blank'>Twitter</a> - 
        <a href="https://www.facebook.com/heytrio/" rel='noopener' target="_blank">Facebook</a> - 
        <a href="https://www.youtube.com/channel/UCiUYmvOokvXyY0uD7fmvXgA/" rel='noopener' target='_blank'>YouTube</a>
    </p>
</footer>

<script src="/assets/all-0411708cab7cd4507b2e8f351a3db8e418e58b702d9fb49f947b04821bc42056.js" type="text/javascript"></script>

</body>
</html>