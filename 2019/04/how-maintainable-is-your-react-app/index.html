<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>

    <title>How maintanable is your React App? |Â Trio Engineering</title>

    <meta http-equiv="Content-Security-Policy" content="font-src 'self';frame-src disqus.com c.disquscdn.com https://*.disquscdn.com www.google.com www.youtube.com accounts.google.com;img-src 'self' c.disquscdn.com referrer.disqus.com https://*.disquscdn.com www.google-analytics.com www.gstatic.com ssl.gstatic.com i.ytimg.com i.imgur.com data:;script-src 'self' c.disquscdn.com disqus.com usetrio.disqus.com https://*.disquscdn.com www.google.com www.google-analytics.com www.gstatic.com apis.google.com;style-src 'self' c.disquscdn.com https://*.disquscdn.com;object-src 'none'; base-uri 'self';">

    
    
    
    

    <link rel='alternate' type='application/rss+xml' title='Trio Engineering Feed' href='https://engineering.trio.dev/atom.xml'>
    <meta name='description' content='What if your application were large but still easy to maintain and support? Iâ€™ll show you how to achieve that by thinking modular.

'/>
    <meta name='keywords' content=''/>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='shortcut icon' href='/assets/favicon/favicon.ico' type='image/x-icon'>
    <link rel='icon' href='/assets/favicon/favicon.ico' type='image/x-icon'>

    <link rel="stylesheet" href="/assets/bundle-e1ef381fe8f416267819bfc100662e24dfba890d30551b08559f5608ad318634.css">

    <meta name="p:domain_verify" content="ee843ddad91f8b4384f2f3a13a714e2d"/>

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@usetrio">
    <meta name="twitter:creator" content="@usetrio">
    <meta name="twitter:url" content="https://engineering.trio.dev/2019/04/how-maintainable-is-your-react-app/">
    <meta name="twitter:title" content="How maintanable is your React App?">
    <meta name="twitter:description" content="What if your application were large but still easy to maintain and support? Iâ€™ll show you how to achieve that by thinking modular.

">

    <meta property="og:title" content="How maintanable is your React App?"/>
    <meta property="og:site_name" content="Trio Engineering"/>
    <meta property="og:url" content="https://engineering.trio.dev/2019/04/how-maintainable-is-your-react-app/"/>
    <meta property="og:description" content="What if your application were large but still easy to maintain and support? Iâ€™ll show you how to achieve that by thinking modular.

"/>
    <meta property="og:type" content="article">
    <meta property="fb:app_id" content="805673586165209"/>

    
        <meta name="twitter:image:src" content="https://engineering.trio.dev/uploads/2019-4-how-maintainable-is-your-react-app/thumb_twitter.jpg">
        <meta property="og:image" content="https://engineering.trio.dev/uploads/2019-4-how-maintainable-is-your-react-app/thumb_facebook.jpg"/>
    
</head>

<body>

<header class="site-header" role="banner">
    <div class="container">
        <div class="logo flex-vcenter">
            <a href='/'>
                <img alt="Trio Logo" src="/assets/img/logo.svg">
            </a>
        </div>

        <div class="brand-name flex-vcenter">
            <a href="/" title="Trio Engineering Blog" rel="home">Engineering</a>
        </div>

        <nav role="navigation" class="flex-vcenter">
            <div class="menu-main-nav-container">
                <ul id="menu-main-nav" class="menu">
                    <li><a href="/posts.html">All Posts</a></li>
                    <li><a href="https://trio.dev">Trio Website</a></li>
                </ul>
            </div>
        </nav>
    </div><!--/container -->
</header>


<div class='container'>


    <article class="post">
    <h1 class="post-title">
        <a href="/2019/04/how-maintainable-is-your-react-app/">How maintanable is your React App?</a>
    </h1>
    <figure>
        <img class="img-responsive" src="/uploads/2019-4-how-maintainable-is-your-react-app/thumb_master.jpg" alt="How maintanable is your React App?">
    </figure>
    <div class="post-description">
        <p>What if your application were large but still easy to maintain and support? Iâ€™ll show you how to achieve that by thinking modular.</p>

<!--more-->

<p>Have you noticed that there are many guides and tutorials on getting started with React for Web? So have I. Usually the instructions are trying to show you how to build your <a href="http://todomvc.com/examples/react/" target="_blank" class="external">TODO app</a>, which was likely generated by the <a href="https://github.com/facebook/create-react-app" target="_blank" class="external">create-react-app</a> tool, using common libraries such as <a href="https://github.com/ReactTraining/react-router" target="_blank" class="external">React Router</a> and <a href="https://github.com/reduxjs/redux" target="_blank" class="external">Redux</a>.</p>

<p>Actually, thatâ€™s a great start because when weâ€™re learning something new and unfamiliar, we should first start from the simplest example. After a few weeks of developing, if you donâ€™t stick to some patterns, youâ€™ll probably end up with multiple files inside the same folder or even worse: few files with thousand lines. Both scenarios could cost you maintainability in <a href="https://en.wikipedia.org/wiki/Long-term_support" target="_blank" class="external">Long Term Support</a>.</p>

<hr>

<h2 id="modules">Modules</h2>
<p>I really like this awesome word. In programming, the meaning of Modular is to design your application in <em>interchangeable</em> pieces of independent functionality that contain everything necessary to perform their assigned tasks, in other words: these pieces of your application can be pulled in or out without much effort. Of course, they can crosstalk or depend on each other, but remaining interchangeable is a premise, so weâ€™ll have to be careful when designing their relationships.</p>

<hr>

<h3 id="get-to-work">Get to work</h3>
<p>Enough talking, right? Letâ€™s get into it!</p>

<h2 id="sample-application">Sample Application</h2>
<p>Iâ€™ve designed a sample application for teaching purposes that is available to show all members of a Slack. Letâ€™s take a look at the moduleâ€™s design and how their structures are independently designed:</p>

<h3 id="modules-1">Modules</h3>

<h4 id="-app-module">ðŸ“Œ App Module</h4>
<ul>
  <li>Components</li>
  <li>Routers</li>
</ul>

<h4 id="-api-module">ðŸ“Œ API Module</h4>
<ul>
  <li>Redux Actions</li>
</ul>

<h4 id="-members-module">ðŸ“Œ Members Module</h4>
<ul>
  <li>Components</li>
  <li>Containers</li>
  <li>Navigation Menu Item</li>
  <li>Redux Actions</li>
  <li>Redux Reducer</li>
  <li>Redux Selectors</li>
  <li>Routers</li>
</ul>

<h4 id="-about-module">ðŸ“Œ About Module</h4>
<ul>
  <li>Components</li>
  <li>Navigation Menu Item</li>
  <li>Routers</li>
</ul>

<h3 id="folder-structure">Folder Structure</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ Config.js
â”‚   â”œâ”€â”€ assets
â”‚   â”‚   â””â”€â”€ logo.jpg
â”‚   â”œâ”€â”€ index.css
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ modules
â”‚   â”‚   â”œâ”€â”€ about
â”‚   â”‚   â”‚   â”œâ”€â”€ components
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ About
â”‚   â”‚   â”‚   â”œâ”€â”€ index.js
â”‚   â”‚   â”‚   â”œâ”€â”€ menu.js
â”‚   â”‚   â”‚   â””â”€â”€ router.js
â”‚   â”‚   â”œâ”€â”€ api
â”‚   â”‚   â”‚   â”œâ”€â”€ actions.js
â”‚   â”‚   â”‚   â”œâ”€â”€ reducer.js
â”‚   â”‚   â”‚   â”œâ”€â”€ selectors.js
â”‚   â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”‚   â”œâ”€â”€ app
â”‚   â”‚   â”‚   â”œâ”€â”€ components
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ App
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Navigation
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Button
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Error
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Loading
â”‚   â”‚   â”‚   â”œâ”€â”€ containers
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ App
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Navigation
â”‚   â”‚   â”‚   â”œâ”€â”€ index.js
â”‚   â”‚   â”‚   â””â”€â”€ router.js
â”‚   â”‚   â”œâ”€â”€ index.js
â”‚   â”‚   â””â”€â”€ members
â”‚   â”‚       â”œâ”€â”€ actions.js
â”‚   â”‚       â”œâ”€â”€ components
â”‚   â”‚       â”‚   â”œâ”€â”€ MemberCard
â”‚   â”‚       â”‚   â””â”€â”€ MembersList
â”‚   â”‚       â”œâ”€â”€ containers
â”‚   â”‚       â”‚   â””â”€â”€ MembersList
â”‚   â”‚       â”œâ”€â”€ index.js
â”‚   â”‚       â”œâ”€â”€ menu.js
â”‚   â”‚       â”œâ”€â”€ reducer.js
â”‚   â”‚       â”œâ”€â”€ router.js
â”‚   â”‚       â””â”€â”€ selectors.js
â”‚   â”œâ”€â”€ reducer.js
â”‚   â”œâ”€â”€ serviceWorker.js
â”‚   â””â”€â”€ store.js
â”œâ”€â”€ static.json
â””â”€â”€ yarn.lock
</code></pre></div></div>

<p>Essentially, we have a similar folder structure and files as with the modules. The goal here is to have isolation throughout the modules while still following the <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" target="_blank" class="external">DRY</a> approach; thatâ€™s why we have <code class="highlighter-rouge">reducer</code> files for each module that use this feature, for example. To better understand their modularity, letâ€™s dive deeper into some files and folders. Since each module exports similar files weâ€™re able to get all the modules routes at once by doing something like this:</p>

<pre><code class="language-es6">import { getModulesMetavalues } from 'moduleReader';

getModulesMetavalues('routes');
</code></pre>

<p>The logic behind the <code class="highlighter-rouge">getModulesMetavalues</code> is actually pretty simple, it just iterates a specific key from all of the registered modules:</p>

<pre><code class="language-es6">import * as modules from 'modules';

export const getModulesMetadata = (key) =&gt;
  Object.keys((modules)).reduce((acc, module) =&gt; {
    if (typeof modules[module] !== 'object') {
      console.warn(`Provide a object export for module ${module}`);
    }
    if (key in modules[module]) {
      return { ...acc, [module]: modules[module][key] };
    }
    return acc;
  }, {});

export const getModulesMetavalues = (key) =&gt;
  Object.values(getModulesMetadata(key)).flat();
</code></pre>
<p>So essentially, our main module file (e.g. <em>src/modules/members/index.js</em>) must export the routes and other features like this:</p>

<pre><code class="language-es6">import * as components from './components';
import * as containers from './containers';
import * as actions from './actions';
import menu from './menu';
import reducer from './reducer';
import routes from './routes';
import * as selectors from './selectors';

export { components, containers, actions, menu, reducer, routes, selectors };
</code></pre>

<p>This files and nomenclature are just convention among modules to make them easier to predict but youâ€™re free to export anything else from a module.</p>

<h3 id="files-and-folders">Files and Folders</h3>
<p>Each file has its own responsibility and utility. Letâ€™s take a look:</p>

<h4 id="routerjs">router.js</h4>
<p>The router file is supposed to export a simple <a href="https://reacttraining.com/react-router/web/api/Route" target="_blank" class="external">Route</a> component from the <a href="https://reacttraining.com/react-router/" target="_blank" class="external">React Router library</a>. This way, you can get them to use as <code class="highlighter-rouge">children</code> inside the Switch component:</p>

<pre><code class="language-es6">// src/modules/app/containers/App/index.js

import mapProps from 'map-props';
import { App } from 'modules/app/components';
import { getModulesMetavalues } from 'moduleReader';

export default mapProps({
  children: () =&gt; getModulesMetavalues('routes')
})(App);
</code></pre>

<pre><code class="language-es6">// src/modules/app/components/App/index.js

render() {
  return (
    &lt;Switch&gt;{this.props.children}&lt;/Switch&gt;
  );
}
</code></pre>

<h4 id="menusjs">menus.js</h4>
<p>The menu file is intended to help you with creating dynamic menu links. All you need to do is to return a simple React component containing your link:</p>

<pre><code class="language-es6">// src/modules/members/menu.js
import { MembersMenu } from './components';

export default MembersMenu;
</code></pre>

<pre><code class="language-es6">// src/modules/app/containers/Navigation/index.js

import mapProps from 'map-props';
import { Navigation } from 'modules/app/components';
import { getModulesMetavalues } from 'moduleReader';

export default mapProps({
  children: () =&gt; getModulesMetavalues('menu')
})(App);
</code></pre>

<h4 id="reducerjs">reducer.js</h4>
<p>The reducer file is supposed to return only a single reducer. If you have to have more than a single tree-leaf, use the <code class="highlighter-rouge">combineReducers</code> function.</p>

<pre><code class="language-es6">import { combineReducers } from 'redux-immutable';
import { buildRequestReducer } from 'modules/api/reducer';

const list = buildRequestReducer('fetchMembers');

export default combineReducers({ list });
</code></pre>

<h4 id="selectorsjs">selectors.js</h4>
<p>The selectors file is supposed to have getters from the redux state tree. Try to follow the <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" target="_blank" class="external">DRY</a> approach by composing and reusing other selectors with <a href="https://github.com/reduxjs/reselect" target="_blank" class="external">reselect</a> library.</p>

<pre><code class="language-es6">// src/modules/members/selectors.js
import { createSelector } from 'reselect';

export const getMembers = state =&gt; state.members;

export const getMembersList = createSelector(getMembers, state =&gt; state.list);
</code></pre>

<h4 id="actionsjs">actions.js</h4>
<p>The actions file is supposed to have both sync and async actions with a descriptive name of what theyâ€™re expected to do. Try also to follow the <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" target="_blank" class="external">DRY</a> approach by reusing other modules actions whenever you can:</p>

<pre><code class="language-es6">// src/modules/members/actions.js

import { buildRequestAction } from 'modules/api/actions';

export const fetchMembersList = buildRequestAction('fetchMembers');
</code></pre>

<h4 id="components">/components</h4>
<p>The components folder is supposed to have only <a href="https://medium.com/@yassimortensen/container-vs-presentational-components-in-react-8eea956e1cea" target="_blank" class="external">presentational components</a>. <em>i.e. they donâ€™t know how to load states and are main focused on working with a good properties support.</em></p>

<h4 id="containers">/containers</h4>
<p>The containers folder is supposed to have the stateful components. <em>i.e. theyâ€™re focused on fetching data to apply on the Components.</em></p>

<h3 id="interchangeability-between-modules">Interchangeability between modules</h3>
<p>Usually modules have some dependency on other modules and to achieve that we have got to make sure that weâ€™re doing it correctly.</p>

<h4 id="files-imports">Files imports</h4>
<p>Consider using <a href="https://itnext.io/configure-absolute-paths-with-create-react-app-and-flow-e4b8922676a2" target="_blank" class="external">absolute paths</a> like this if youâ€™re trying to import a file inside or outside of your module. It makes moving files across modules easier:</p>

<pre><code class="language-es6">import { buildRequestAction } from 'modules/api/actions';
</code></pre>

<h4 id="components-structure">Components structure</h4>
<p>Usually, weâ€™ll have multiple files related to the same component <em>(e.g. styles, tests, etc)</em> and to better organize, that I like to group them into the same folder. Instead of creating a file <code class="highlighter-rouge">components/MembersList.js</code>, I create a file <code class="highlighter-rouge">components/MembersList/index.js</code> which makes it easier to put all related files together.</p>

<h4 id="extra--test-files">Extra â†’ Test files</h4>
<p>I really like the approach of having a test file alongside the implementation file. Instead of having two files across different folders like:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>src/modules/members/__tests__/actions.js
src/modules/members/actions.js
</code></pre></div></div>

<p>I prefer to have them contained inside the same folder to make finding the files easily in my code editor:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>src/modules/members/actions/index.js
src/modules/members/actions/test.js
src/modules/members/actions/e2e.test.js
</code></pre></div></div>

<hr>

<h2 id="final-thoughts">Final Thoughts</h2>
<p>I believe that by implementing a modular approach you will have a well-defined pattern to make your application and its functionalities easily understood by other developers. Also, when weâ€™re thinking about LTS we should stick to patterns that are easily recognized or your application could easily get messed up because every developer will try to apply their own approach there.</p>

<blockquote>
  <p>Choose what difficulties you should deal with and that way you donâ€™t let the difficulties choose you.</p>
</blockquote>

<h2 id="do-you-wanna-know-more-how-do-we-do-this-in-trio">Do you wanna know more how do we do this in Trio?</h2>
<p>In Trio, we help small and mid-sized companies by providing them with software engineering teams on demand. Eliminating the process of selection and hiring, we allocate to you the teams of highly-qualified software engineering teams that match perfectly your companyâ€™s needs. Managing a remote team doesnâ€™t have to be hard. Do you want to know more about working with Trio?</p>

<p>Tell us about your project â†’ <a href="https://trio.dev" target="_blank" class="external">https://trio.dev</a></p>

    </div>
</article>

<p class="text-center">
    <small>Posted on
        <time class="date" datetime="2019-04-03T00:00:00+01:00">03 Apr 2019</time> by Dhyego Calota
    </small>
</p>

<div class="share-button-container">

    <div class="socialbutton-wrapper">
        <a href="https://twitter.com/share?url=https://engineering.trio.dev%2F2019%2F04%2Fhow-maintainable-is-your-react-app%2F&amp;text=How%20maintanable%20is%20your%20React%20App?&amp;via=Trio" target="_blank" class="external">
            <div class="socialbutton twitter" data-share-url="https://engineering.trio.dev/2019/04/how-maintainable-is-your-react-app/">
                <p class="icon">
                    <img src="/assets/img/social-twitter.svg" alt="Share to Twitter">
                </p>
            </div>
        </a>


        <a href="https://www.facebook.com/sharer/sharer.php?u=https://engineering.trio.dev%2F2019%2F04%2Fhow-maintainable-is-your-react-app%2F" target="_blank" class="external">
            <div class="socialbutton facebook" data-share-url="https://engineering.trio.dev/2019/04/how-maintainable-is-your-react-app/">
                <p class="icon">
                    <img src="/assets/img/social-facebook.svg" alt="Share to Facebook">
                </p>
            </div>
        </a>


        <a href="http://www.reddit.com/submit?url=https://engineering.trio.dev%2F2019%2F04%2Fhow-maintainable-is-your-react-app%2F&amp;title=How+maintanable+is+your+React+App%3F" target="_blank" class="external">
            <div class="socialbutton reddit">
                <p class="icon">
                    <img src="/assets/img/social-reddit.svg" alt="Share to Reddit">
                </p>
            </div>
        </a>

        <br class="only-smartphone">

        <a href="https://getpocket.com/edit?url=https://engineering.trio.dev%2F2019%2F04%2Fhow-maintainable-is-your-react-app%2F" target="_blank" class="external">
            <div class="socialbutton pocket">
                <p class="icon">
                    <img src="/assets/img/social-pocket.svg" alt="Share to Pocket">
                </p>
            </div>
        </a>

        <a href="whatsapp://send?text=How+maintanable+is+your+React+App%3F%20https://engineering.trio.dev%2F2019%2F04%2Fhow-maintainable-is-your-react-app%2F" class="only-smartphone">
            <div class="socialbutton whatsapp">
                <p class="icon">
                    <img src="/assets/img/social-whatsapp.svg" alt="Share to WhatsApp">
                </p>
            </div>
        </a>
    </div>
</div>

<div id="comments">
    <div id="disqus_thread"></div>
    <noscript>Please enable JavaScript to view the comments</noscript>
</div>


</div>


<footer>
    <p>Copyright 2016-2019, engineering.trio.dev</p>

    <p>
        <a href="/atom.xml">RSS feed</a> - 
        <a href="https://github.com/usetrio/" rel='noopener' target='_blank'>GitHub</a> - 
        <a href="https://twitter.com/usetrio/" rel='noopener' target='_blank'>Twitter</a> - 
        <a href="https://www.facebook.com/heytrio/" rel='noopener' target="_blank">Facebook</a> - 
        <a href="https://www.youtube.com/channel/UCiUYmvOokvXyY0uD7fmvXgA/" rel='noopener' target='_blank'>YouTube</a>
    </p>
</footer>

<script type="text/javascript" src="/assets/all-0411708cab7cd4507b2e8f351a3db8e418e58b702d9fb49f947b04821bc42056.js"></script>

</body>
</html>